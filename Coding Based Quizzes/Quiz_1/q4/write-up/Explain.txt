# REASON FOR THE CHANGE :

IN CASE OF 32-BIT X86 SYSTEMS , THE PARAMETERS PASSED FROM C FUNCTION ARE STORED IN EDI,ESI,ECX,EDX AND IN TERMS OF STACKS , THE PARAMETERS ARE STORED IN [ESP] BASE POINTER , WHERE WE CAN ACCESS THE NEXT PARAMETERS BY INCREMENTING THE BASE POINTER BY 4 EVERYTIME.

WHEREAS IF WE TRY TO RUN THE SAME PROGRAM IN 64-BIT X86 SYSTEMS , THEN IT WILL THROW ERROR "SEGMENTATION FAULT CORE DUMPED" , BEACUSE IN THIS ARCHITECTURE THE PARAMETERS PASSED ARE STORED IN RDI,RSI,RCX,RDX AND FROM STACK POINT OF VIEW , THEY ARE PRESENT IN POINTER [RSP] , MOREOVER TO ACCESS THE NEXT PARAMETERS , WE NEED TO INCREMENT BY +8 IN THIS CASE EVERYTIME .

MAKEFILE CHANGES :

SINCE I AM HAVING 64-BIT X86 SYSTEMS , I HAD TO DOWNLOAD SOME EXTERNAL LIBRARIES TO RUN 32-BIT BASED ASSEMBLY IN 64 BASED SYSTEM .

# (MAKEFILE FOR 32-BIT X86) :

	all : C_Compilation Asm_Compilation1 
		gcc -no-pie -m32 P4.o add.o -o a.out
		./a.out

	C_Compilation: Object

	Object:
		gcc -c -m32 P4.c -o P4.o

	Asm_Compilation1: 
		nasm -f elf32 P4_1.asm -o add.o
		
# (MAKEFILE FOR 64-BIT X86) :
		
	all : C_Compilation Asm_Compilation1 
		gcc P4.o add.o -o a.out
		./a.out

	C_Compilation:Object

	Object:
		gcc -c P4.c -o P4.o

	Asm_Compilation1: 
		nasm -f elf64 P4_2.asm -o add.o

	
	
	
	
	
	
	
	
	
	
	
	


 	
	
	
	
	
	
	
	
	
	
	


 
    
